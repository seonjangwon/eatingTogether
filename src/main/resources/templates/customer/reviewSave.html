<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="/css/layout3.css" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}">   <style>
    a{ text-decoration-line: none; }   /* 하이퍼링크 꾸밈요소 삭제 */
    a:link    {
        color: sandybrown;
    } /* 하이퍼링크 관련 */
    a:visited {
        color: sandybrown;
    }
    a:hover   {
        color: coral;
    }
    a:active  {
        color: deeppink;
    }

    /*--------------------------------
    목록링크 색상*/
    .list-group-item{
        color: sandybrown;
    }
    .list-group-item:visited {
        color: sandybrown;
    }
    .list-group-item:hover   {
        color: coral;
    }
    .list-group-item:active  {
        color: deeppink;
    }
    /*-----------------------------------------여기까지 */

</style><!-- 하이퍼링크용: 수정가능성 있음 -->
    <meta name="_csrf_header" th:content="${_csrf.headerName}">
    <title>리뷰등록</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="/path/to/plugin/jquery.MultiFile.min.js"></script> <!--멀티파트파일-->
    <style>
        a{ text-decoration-line: none; }   /* 하이퍼링크 꾸밈요소 삭제 */
        a:link    {
            color: sandybrown;
        } /* 하이퍼링크 관련 */
        a:visited {
            color: sandybrown;
        }
        a:hover   {
            color: coral;
        }
        a:active  {
            color: deeppink;
        }

        /*--------------------------------
        목록링크 색상*/
        .list-group-item{
            color: sandybrown;
        }
        .list-group-item:visited {
            color: sandybrown;
        }
        .list-group-item:hover   {
            color: coral;
        }
        .list-group-item:active  {
            color: deeppink;
        }
        /*-----------------------------------------여기까지 */

    </style><!-- 하이퍼링크용: 수정가능성 있음 -->
 <!--   <script>
        function reviewSave(){
            // var formdata = new FormData($("#myform")[0]);


            var fileRepository = [];
            $('input[type="file"]').on('change', function(){
                fileRepository.push(this.files[0]);
            });

            formdata.append("files[]", fileRepository);


            $.ajax({
                type:'post',
                url: '/review/save',
                data: formdata,
                dataType: 'json',
                contentType: false,
                processData: false,
                success: function(result){
                    console.log(result);
                    console.log("성공!");
                    // location.href='/review/';
                },
                error: function(){
                    console.log("ajax실패");
                }
            });


        }
    </script>-->






</head>
<body>
<form action="/review/save" method="post" th:object="${order}" name="myform" id="myform" enctype="multipart/form-data">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <input type="hidden" name="orderNumber" th:value="${order.orderNumber}"> <!--주문번호 : 이게 있어야 storeName, menuName을 같이 볼 수 있음 -->

    <fieldset>
    <legend>별점</legend>
    <input type="radio" name="reviewScore" th:value="1" id="rate1">
    <input type="radio" name="reviewScore" th:value="2" id="rate2">
    <input type="radio" name="reviewScore" th:value="3" id="rate3">
    <input type="radio" name="reviewScore" th:value="4" id="rate4">
    <input type="radio" name="reviewScore" th:value="5" id="rate5">
    </fieldset>
    <input type="text" name="storeName" th:value="${order.storeName}">
    메뉴이름 : <input type="text" name="menuName" th:value="${order.menuName}">
    내용 : <input type="text" name="reviewContents">
    사진 :
    <input type="file" id="reviewFile" name="reviewFileDTO" class="multi" multiple="multiple" maxlength="3"/>
    <input type="submit" value="등록">
</form>
<!--    <input type="button" value="등록" onclick="reviewSave()">-->

</body>
</html>