<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <link rel="stylesheet" href="/css/layout3.css" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}">
    <meta name="_csrf_header" th:content="${_csrf.headerName}">
    <title>ğŸ™ ë­ë¨¹ì„ê¹Œìš” ë¦¬ë·°ë“±ë¡</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="/path/to/plugin/jquery.MultiFile.min.js"></script> <!--ë©€í‹°íŒŒíŠ¸íŒŒì¼-->
    <style>
        a {
            text-decoration-line: none;
        }

        /* í•˜ì´í¼ë§í¬ ê¾¸ë°ˆìš”ì†Œ ì‚­ì œ */
        a:link {
            color: sandybrown;
        }

        /* í•˜ì´í¼ë§í¬ ê´€ë ¨ */
        a:visited {
            color: sandybrown;
        }

        a:hover {
            color: coral;
        }

        a:active {
            color: deeppink;
        }

        /*--------------------------------
        ëª©ë¡ë§í¬ ìƒ‰ìƒ*/
        .list-group-item {
            color: sandybrown;
        }

        .list-group-item:visited {
            color: sandybrown;
        }

        .list-group-item:hover {
            color: coral;
        }

        .list-group-item:active {
            color: deeppink;
        }

        /*-----------------------------------------ì—¬ê¸°ê¹Œì§€ */

        section{
            height: 100vh;
        }
        #star{
            display: flex; /*ê°€ë¡œë³¸ëŠ¥*/
            justify-content: center;
            align-items: center;

        }

/*        #star fieldset{
            display: inline-block; !* í•˜ìœ„ ë³„ì  ì´ë¯¸ì§€ë“¤ì´ ìˆëŠ” ì˜ì—­ë§Œ ìë¦¬ë¥¼ ì°¨ì§€í•¨.*!
            border: 0;!* í•„ë“œì…‹ í…Œë‘ë¦¬ ì œê±° *!
        }*/
        #star input{
            display: none;  /*radio ë°•ìŠ¤ ê°ì¶”ê¸°*/
        }
        #star label{
            font-size: 3em;
            /*opacity: 80%;*/
            color: transparent;
            text-shadow: 0 0 0 #f0f0f0;
        }

        #star label:hover{
            text-shadow: 0 0 0 #bb782e;
        }
        #star label:hover~label{
            text-shadow: 0 0 0 #bb782e;    /*ë§ˆìš°ìŠ¤ í˜¸ë²„ ë’¤ì— ì˜¤ëŠ” ì´ëª¨ì§€ë“¤ë“¤*/
       }
        /*ë°©í–¥*/
        #star{
            /*display: inline-block;*/
            direction: rtl;
            border: 0;
        }
        #star legend{
            text-align: left;
        }

        /*ë³„ì ìœ ì§€*/
        #star input[type=radio]:checked~label{
            text-shadow: 0 0 0 sandybrown;
        }
        .contentSection-reviewSave {
            font-family: 'Cafe24SsurroundAir';
            position: relative;
            top: 100px;
            left: 60%;
            transform: translate(-50%);
            width: 80%;
            padding: 100px;
            background-color: blanchedalmond;
        }

        #myform input {
            width: 100%;
            margin-top: 3px;
            margin-bottom: 3px;
            gap: 15px;
        }

        .textArea{
            text-align: left;
        }
    </style><!-- í•˜ì´í¼ë§í¬ìš©: ìˆ˜ì •ê°€ëŠ¥ì„± ìˆìŒ -->
    <!--   <script>
           function reviewSave(){
               // var formdata = new FormData($("#myform")[0]);


               var fileRepository = [];
               $('input[type="file"]').on('change', function(){
                   fileRepository.push(this.files[0]);
               });

               formdata.append("files[]", fileRepository);


               $.ajax({
                   type:'post',
                   url: '/review/save',
                   data: formdata,
                   dataType: 'json',
                   contentType: false,
                   processData: false,
                   success: function(result){
                       console.log(result);
                       console.log("ì„±ê³µ!");
                       // location.href='/review/';
                   },
                   error: function(){
                       console.log("ajaxì‹¤íŒ¨");
                   }
               });


           }
       </script>-->
</head>
<body>
<header>
    <div class="container">
        <div class="row">
            <div class="col-3">
                <span id=logoTitle>
                    <h3><a href="/"> ğŸ™ ë­ë¨¹ì„ê¹Œìš”?</a></h3>
                </span>
            </div>
            <div class="col-2">
                <!-- ê³µë°±ë€ -->
            </div>
            <div class="col-2">
                <!--<form class="d-flex" id="menuBar-search">
                  <input class="form-control me-sm-2" type="text" placeholder="Search">
                  <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
                </form>-->
            </div>
            <div class="col-4">
                <span id="menuBar-text">
                    <div th:if="${session.customerLoginEmail}">
                        <a href="/usual/logout"> ë¡œê·¸ì•„ì›ƒ</a>
                        <a href="/customer/"> ë§ˆì´í˜ì´ì§€</a>
                        <a href="/customer/basket"> ì¥ë°”êµ¬ë‹ˆ</a>
                    </div><!-- íšŒì›ë¡œê·¸ì¸ì‹œ -->
                </span>
            </div>
            <div class="col" id="menuBar-friPan">
                <a href="#" class="btn btn-light btn-sm " tabindex="-1" role="button" aria-disabled="true">ğŸ³</a>
                <!--<button class="btn btn-right" id="menuBar-offCanvas" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">ğŸ³</button>-->
            </div>
        </div>
    </div>
</header><!--ê³ ê°ìš© header-->
<section>
    <div class="customer-section-reviewSave">
        <div class="side-section">
            <ul class="list-group list-group-flush" style="font-family: 'Yeongdo-Rg';">
                <a href="/customer/update" class="list-group-item list-group-item-action">ë‚´ì •ë³´ìˆ˜ì •</a>
                <a href="/customer/history" class="list-group-item list-group-item-action">ì£¼ë¬¸ë‚´ì—­</a>
                <a href="/customer/coupon" class="list-group-item list-group-item-action">ë‚´ì¿ í°í•¨</a>
                <a href="/customer/point" class="list-group-item list-group-item-action">ë‚´í¬ì¸íŠ¸</a>
                <a href="/customer/review" class="list-group-item list-group-item-action">ë‚´ë¦¬ë·°ê´€ë¦¬</a>
                <a href="/customer/wishlist" class="list-group-item list-group-item-action">ì°œë¦¬ìŠ¤íŠ¸</a>
<!--                <a href="/customer/kakaoUnlink" class="list-group-item list-group-item-action">ì¹´ì¹´ì˜¤ íšŒì›íƒˆí‡´</a>-->
            </ul>
        </div>
        <div class="contentSection-reviewSave">
            <form action="/review/save" method="post" th:object="${order}" name="myform" id="myform"
                  enctype="multipart/form-data">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <input type="hidden" name="orderNumber" th:value="${order.orderNumber}">
                <!--ì£¼ë¬¸ë²ˆí˜¸ : ì´ê²Œ ìˆì–´ì•¼ storeName, menuNameì„ ê°™ì´ ë³¼ ìˆ˜ ìˆìŒ -->
                <h5><span th:text="${order.storeName}"></span></h5>
                <h6 class="textArea">ë©”ë‰´ì´ë¦„</h6>
                <input type="text" name="menuName" th:value="${order.menuName}"readonly>
                <h6 class="textArea">ë‚´ìš©</h6>
                <input type="text" name="reviewContents">
                <h6 class="textArea">ì‚¬ì§„</h6>
                <input type="file" id="reviewFile" name="reviewFileDTO" class="multi" multiple="multiple"
                       maxlength="3"/>
                <h6 class="textArea">ë³„ì ì„ ë‚¨ê²¨ì£¼ì„¸ìš”</h6>
                <fieldset id="star">
                    <input type="radio" name="reviewScore" value="5" id="rate1"><label for="rate1">ğŸ—</label>
                    <input type="radio" name="reviewScore" value="4" id="rate2"><label for="rate2">ğŸ—</label>
                    <input type="radio" name="reviewScore" value="3" id="rate3"><label for="rate3">ğŸ—</label>
                    <input type="radio" name="reviewScore" value="2" id="rate4"><label for="rate4">ğŸ—</label>
                    <input type="radio" name="reviewScore" value="1" id="rate5"><label for="rate5">ğŸ—</label>
                </fieldset>
                <input type="submit" value="ë“±ë¡">
            </form>
        </div>
    </div>
</section>
<div id="msgStack"></div>
</body>
<script src="/js/webSocket.js"></script>
</html>