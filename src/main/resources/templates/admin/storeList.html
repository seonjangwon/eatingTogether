<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!--<link href="/css/layout2.css" rel="stylesheet" crossorigin="anonymous">-->
    <meta charset="UTF-8">
    <title>업체목록</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script>
        function deleteById(storeNumber) {
            const reqUrl = "/admin/store" + storeNumber;
            $.ajax({
                type: "delete",
                url: reqUrl,
                data: {"storeNumber": storeNumber},
                dataType: "text",
                success: function (result) {
                    location.href = "/admin/store";
                },
                error: function () {
                    console.log('ajax실패');
                }


            })
        }

    </script>
    <script>
        function blackStore_btn(storeNumber){
            location.href="/admin/storeReport/" + storeNumber;
        }
    </script>
</head>
<body>
<section>
    <table>
        <tr>
            <th>업체번호</th>
            <th>업체이메일</th>
            <th>업체이름</th>
            <th>업체삭제</th>
            <th>업체신고</th>
        </tr>
        <tr th:each = "store : ${storeList}">
            <td th:text="${store.storeNumber}"></td>
            <td th:text="${store.storeEmail}"></td>
            <td th:text="${store.storeName}"></td>
            <td><button th:onclick="deleteById([[${store.storeNumber}]])">삭제</button></td>
            <td><button th:onclick="blackStore_btn([[${store.storeNumber}]])">업체신고</button></td>
        </tr>
    </table>
</section>
<footer>

</footer>
</body>
</html>